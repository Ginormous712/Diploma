{% extends "show.html" %}
{% block title %}Tickets{% endblock title %}
{% block header %}Tickets Table{% endblock header %}
{% block table %}
    <table class="table table-striped table-hover">
        <thead class="thead-dark">
        <tr>
            <th>ID</th>
            <th>User</th>
            <th>Flight</th>
            <th>Seat Number</th>
            <th>Issued Date</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        {% for ticket in tickets %}
            <tr>
                <td>{{ ticket.id }}</td>
                <td>{{ ticket.user.username }}</td>
                <td>{{ ticket.flight.flight_number }}</td>
                <td>{{ ticket.seat_number }}</td>
                <td>{{ ticket.issued_date }}</td>
                <td><a href="{% url 'update_ticket' ticket.id %}" class="btn btn-warning btn-block">Update</a></td>
                <td><a href="{% url 'delete_ticket' ticket.id %}" class="btn btn-danger btn-block">Delete</a></td>
            </tr>
        {% endfor %}
    </table>
    <a href="{% url 'create_ticket' %}" class="btn btn-success btn-block">Create new</a>
    <div class="mt-3">
        <a href="{% url 'export_tickets_csv' %}" class="btn btn-info mr-2">Export to CSV</a>
        <a href="{% url 'export_tickets_excel' %}" class="btn btn-info mr-2">Export to Excel</a>
        <a href="{% url 'import_tickets' %}" class="btn btn-primary">Import Flights</a>
    </div>
{% endblock table %}
